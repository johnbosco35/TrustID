import{r as o,j as e,m as f,A as L,L as p}from"./index-h30S47I8.js";import{C as m,L as k}from"./loader-circle-B-sbjl4g.js";import{M as A}from"./mail-DLgCYXji.js";import{L as F}from"./lock-COCVaCE1.js";import{E as b}from"./eye-off-CvCtRAMa.js";import{E as g}from"./eye-CNTuEZjt.js";import{S as I}from"./shield-c1P3bkiX.js";import{L as M}from"./log-in-DkykQV6G.js";function z(){const[r,j]=o.useState({email:"",password:"",adminCode:"",rememberMe:!1}),[a,i]=o.useState({email:"",password:"",adminCode:"",general:""}),[c,w]=o.useState(!1),[x,y]=o.useState(!1),[h,u]=o.useState(!1),d=t=>{const{name:s,value:n,type:S,checked:E}=t.target;j(l=>({...l,[s]:S==="checkbox"?E:n})),s in a&&a[s]&&i(l=>({...l,[s]:""})),a.general&&i(l=>({...l,general:""}))},N=()=>{let t=!0;const s={...a};return r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(s.email="Email is invalid",t=!1):(s.email="Email is required",t=!1),r.password||(s.password="Password is required",t=!1),r.adminCode||(s.adminCode="Admin code is required",t=!1),i(s),t},v=async t=>{if(t.preventDefault(),!!N()){u(!0);try{if(await new Promise(s=>setTimeout(s,1500)),r.adminCode!=="ADMIN123")throw new Error("Invalid admin code");console.log("Admin login successful",r),window.location.href="/home"}catch(s){console.error("Login error:",s),s instanceof Error&&s.message==="Invalid admin code"?i(n=>({...n,adminCode:"Invalid admin code. Please try again."})):i(n=>({...n,general:"Invalid credentials. Please try again."}))}finally{u(!1)}}},C={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}};return e.jsx("div",{className:"w-full max-w-md mx-auto",children:e.jsxs(f.div,{initial:"hidden",animate:"visible",variants:C,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Admin Login"}),e.jsx("p",{className:"text-gray-400",children:"Log in to your administrator account"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-5",children:[e.jsx(L,{children:a.general&&e.jsxs(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-500/20 border border-red-500 text-red-500 px-4 py-3 rounded-md flex items-start",children:[e.jsx(m,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:a.general})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(A,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:d,className:`bg-[#1a1e2e] text-white w-full pl-10 pr-3 py-2 rounded-md border ${a.email?"border-red-500":"border-[#3a4055]"} focus:outline-none focus:ring-1 focus:ring-[#5e5ce6] focus:border-[#5e5ce6]`,placeholder:"Enter your admin email"})]}),a.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),a.email]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),e.jsx(p,{to:"",className:"text-xs text-[#5e5ce6] hover:underline",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(F,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:c?"text":"password",id:"password",name:"password",value:r.password,onChange:d,className:`bg-[#1a1e2e] text-white w-full pl-10 pr-10 py-2 rounded-md border ${a.password?"border-red-500":"border-[#3a4055]"} focus:outline-none focus:ring-1 focus:ring-[#5e5ce6] focus:border-[#5e5ce6]`,placeholder:"Enter your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>w(!c),children:c?e.jsx(b,{className:"h-5 w-5 text-gray-400"}):e.jsx(g,{className:"h-5 w-5 text-gray-400"})})]}),a.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),a.password]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"adminCode",className:"block text-sm font-medium text-gray-300 mb-1",children:"Admin Code"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(I,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:x?"text":"password",id:"adminCode",name:"adminCode",value:r.adminCode,onChange:d,className:`bg-[#1a1e2e] text-white w-full pl-10 pr-10 py-2 rounded-md border ${a.adminCode?"border-red-500":"border-[#3a4055]"} focus:outline-none focus:ring-1 focus:ring-[#5e5ce6] focus:border-[#5e5ce6]`,placeholder:"Enter admin verification code"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>y(!x),children:x?e.jsx(b,{className:"h-5 w-5 text-gray-400"}):e.jsx(g,{className:"h-5 w-5 text-gray-400"})})]}),a.adminCode&&e.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),a.adminCode]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"rememberMe",name:"rememberMe",checked:r.rememberMe,onChange:d,className:"h-4 w-4 rounded bg-[#1a1e2e] border-[#3a4055] text-[#5e5ce6] focus:ring-[#5e5ce6] focus:ring-offset-[#1a1e2e]"}),e.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-300",children:"Remember me"})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full bg-[#5e5ce6] hover:bg-[#4b48bf] text-white py-2 px-4 rounded-md transition-colors flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed mt-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"animate-spin mr-2 h-5 w-5"}),"Logging in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 h-5 w-5"}),"Admin Log In"]})}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-gray-400",children:["Need an admin account?"," ",e.jsx(p,{to:"/admin-register",className:"text-[#5e5ce6] hover:underline",children:"Sign up"})]})})]})]})})}export{z as default};
