import{u as S,r as o,j as e,m as h,A as L,L as f}from"./index-h30S47I8.js";import{l as E}from"./Auth-DemReQ_2.js";import{C as d,L as k}from"./loader-circle-B-sbjl4g.js";import{M as F}from"./mail-DLgCYXji.js";import{L as C}from"./lock-COCVaCE1.js";import{E as I}from"./eye-off-CvCtRAMa.js";import{E as M}from"./eye-CNTuEZjt.js";import{L as P}from"./log-in-DkykQV6G.js";function B(){const p=S(),[r,g]=o.useState({email:"",password:"",rememberMe:!1}),[a,l]=o.useState({email:"",password:"",general:""}),[n,b]=o.useState(!1),[x,u]=o.useState(!1),m=t=>{const{name:s,value:c,type:N,checked:v}=t.target;g(i=>({...i,[s]:N==="checkbox"?v:c})),s in a&&l(i=>({...i,[s]:""})),a.general&&l(i=>({...i,general:""}))},j=()=>{let t=!0;const s={...a};return r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(s.email="Email is invalid",t=!1):(s.email="Email is required",t=!1),r.password||(s.password="Password is required",t=!1),l(s),t},y=async t=>{if(t.preventDefault(),!!j()){u(!0);try{const s=await E({email:r.email,password:r.password});s!=null&&s.data&&alert("Login Successful"),localStorage.setItem("UserInfo",JSON.stringify(s.data)),p("/home"),console.log("Login successful",r)}catch(s){console.error("Login error:",s),l(c=>({...c,general:"Invalid email or password. Please try again."}))}finally{u(!1)}}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}};return e.jsx("div",{className:"w-full max-w-md mx-auto",children:e.jsxs(h.div,{initial:"hidden",animate:"visible",variants:w,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-400",children:"Log in to your account"})]}),e.jsxs("form",{onSubmit:y,className:"space-y-5",children:[e.jsx(L,{children:a.general&&e.jsxs(h.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-500/20 border border-red-500 text-red-500 px-4 py-3 rounded-md flex items-start",children:[e.jsx(d,{className:"h-5 w-5 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:a.general})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(F,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:m,className:`bg-[#1a1e2e] text-white w-full pl-10 pr-3 py-2 rounded-md border ${a.email?"border-red-500":"border-[#3a4055]"} focus:outline-none focus:ring-1 focus:ring-[#5e5ce6] focus:border-[#5e5ce6]`,placeholder:"Enter your email"})]}),a.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[e.jsx(d,{className:"h-4 w-4 mr-1"}),a.email]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),e.jsx(f,{to:"",className:"text-xs text-[#5e5ce6] hover:underline",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(C,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:n?"text":"password",id:"password",name:"password",value:r.password,onChange:m,className:`bg-[#1a1e2e] text-white w-full pl-10 pr-10 py-2 rounded-md border ${a.password?"border-red-500":"border-[#3a4055]"} focus:outline-none focus:ring-1 focus:ring-[#5e5ce6] focus:border-[#5e5ce6]`,placeholder:"Enter your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b(!n),children:n?e.jsx(I,{className:"h-5 w-5 text-gray-400"}):e.jsx(M,{className:"h-5 w-5 text-gray-400"})})]}),a.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[e.jsx(d,{className:"h-4 w-4 mr-1"}),a.password]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"rememberMe",name:"rememberMe",checked:r.rememberMe,onChange:m,className:"h-4 w-4 rounded bg-[#1a1e2e] border-[#3a4055] text-[#5e5ce6] focus:ring-[#5e5ce6] focus:ring-offset-[#1a1e2e]"}),e.jsx("label",{htmlFor:"rememberMe",className:"ml-2 block text-sm text-gray-300",children:"Remember me"})]}),e.jsx("button",{type:"submit",disabled:x,className:"w-full bg-[#5e5ce6] hover:bg-[#4b48bf] text-white py-2 px-4 rounded-md transition-colors flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed mt-2",children:x?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"animate-spin mr-2 h-5 w-5"}),"Logging in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"mr-2 h-5 w-5"}),"Log In"]})}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",e.jsx(f,{to:"/user-register",className:"text-[#5e5ce6] hover:underline",children:"Sign up"})]})})]})]})})}export{B as default};
