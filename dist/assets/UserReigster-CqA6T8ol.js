import{r as o,j as e,A as F,m as f,L as b}from"./index-h30S47I8.js";import{s as L}from"./Auth-DemReQ_2.js";import{U}from"./user-Ba3GWcAL.js";import{C as m,L as $}from"./loader-circle-B-sbjl4g.js";import{M}from"./mail-DLgCYXji.js";import{L as w}from"./lock-COCVaCE1.js";import{E as g}from"./eye-off-CvCtRAMa.js";import{E as N}from"./eye-CNTuEZjt.js";import{A as q}from"./arrow-right-CHlVpbJa.js";import{C as D}from"./circle-check-big-C_ySo-Wk.js";function J(){const[a,j]=o.useState({fullName:"",email:"",password:"",confirmPassword:""}),[r,u]=o.useState({fullName:"",email:"",password:"",confirmPassword:""}),[d,y]=o.useState(!1),[x,v]=o.useState(!1),[h,p]=o.useState(!1),[S,P]=o.useState(!1),n=(t=>{if(!t)return{score:0,label:""};let s=0;t.length>=8&&(s+=1),t.length>=12&&(s+=1),/[A-Z]/.test(t)&&(s+=1),/[a-z]/.test(t)&&(s+=1),/[0-9]/.test(t)&&(s+=1),/[^A-Za-z0-9]/.test(t)&&(s+=1);let i="",l="";return s===0?(i="",l=""):s<=2?(i="Weak",l="bg-red-500"):s<=4?(i="Moderate",l="bg-yellow-500"):(i="Strong",l="bg-green-500"),{score:Math.min(s,6),label:i,color:l}})(a.password),c=t=>{const{name:s,value:i}=t.target;j(l=>({...l,[s]:i})),r[s]&&u(l=>({...l,[s]:""}))},C=()=>{let t=!0;const s={...r};return a.fullName.trim()||(s.fullName="Full name is required",t=!1),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(s.email="Email is invalid",t=!1):(s.email="Email is required",t=!1),a.password?a.password.length<8?(s.password="Password must be at least 8 characters",t=!1):n.score<3&&(s.password="Password is too weak",t=!1):(s.password="Password is required",t=!1),a.password!==a.confirmPassword&&(s.confirmPassword="Passwords do not match",t=!1),u(s),t},A=async t=>{if(t.preventDefault(),!!C()){p(!0);try{L({email:a.email,username:a.fullName,password:a.password}).then(()=>{alert("SignUp Successful"),P(!0)}).catch(s=>{console.log(s)})}catch(s){console.error("Signup error:",s)}finally{p(!1)}}},E={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}},exit:{opacity:0,y:-20,transition:{duration:.2}}},k={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:25}}};return e.jsx("div",{className:"w-full max-w-md mx-auto",children:e.jsx(F,{mode:"wait",children:S?e.jsxs(f.div,{initial:"hidden",animate:"visible",variants:k,className:"text-center py-10",children:[e.jsx("div",{className:"bg-[#1a1e2e] p-4 rounded-full inline-flex mb-6",children:e.jsx(D,{className:"h-16 w-16 text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Account Created!"}),e.jsx("p",{className:"text-gray-400 mb-8",children:"Your account has been created successfully. You can now log in."}),e.jsx(b,{to:"/user-login",className:"inline-block bg-[#5e5ce6] hover:bg-[#4b48bf] text-white py-2 px-6 rounded-md transition-colors",children:"Go to Login"})]},"success"):e.jsxs(f.div,{initial:"hidden",animate:"visible",exit:"exit",variants:E,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create Your Account"}),e.jsx("p",{className:"text-gray-400",children:"Sign up to manage your digital identity"})]}),e.jsxs("form",{onSubmit:A,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(U,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",id:"fullName",name:"fullName",value:a.fullName,onChange:c,className:`bg-[#1a1e2e] text-white w-full pl-10 pr-3 py-2 rounded-md border ${r.fullName?"border-red-500":"border-[#3a4055]"} focus:outline-none focus:ring-1 focus:ring-[#5e5ce6] focus:border-[#5e5ce6]`,placeholder:"Enter your full name"})]}),r.fullName&&e.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),r.fullName]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(M,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:c,className:`bg-[#1a1e2e] text-white w-full pl-10 pr-3 py-2 rounded-md border ${r.email?"border-red-500":"border-[#3a4055]"} focus:outline-none focus:ring-1 focus:ring-[#5e5ce6] focus:border-[#5e5ce6]`,placeholder:"Enter your email"})]}),r.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),r.email]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(w,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:d?"text":"password",id:"password",name:"password",value:a.password,onChange:c,className:`bg-[#1a1e2e] text-white w-full pl-10 pr-10 py-2 rounded-md border ${r.password?"border-red-500":"border-[#3a4055]"} focus:outline-none focus:ring-1 focus:ring-[#5e5ce6] focus:border-[#5e5ce6]`,placeholder:"Create a password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>y(!d),children:d?e.jsx(g,{className:"h-5 w-5 text-gray-400"}):e.jsx(N,{className:"h-5 w-5 text-gray-400"})})]}),r.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),r.password]}),a.password&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"flex-1 h-2 bg-[#3a4055] rounded-full overflow-hidden",children:e.jsx(f.div,{className:`h-full ${n.color}`,style:{width:`${n.score/6*100}%`}})}),e.jsx("span",{className:"text-xs ml-2 min-w-[60px] text-right",children:n.label})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Use 8+ characters with a mix of letters, numbers & symbols"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(w,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:x?"text":"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:c,className:`bg-[#1a1e2e] text-white w-full pl-10 pr-10 py-2 rounded-md border ${r.confirmPassword?"border-red-500":"border-[#3a4055]"} focus:outline-none focus:ring-1 focus:ring-[#5e5ce6] focus:border-[#5e5ce6]`,placeholder:"Confirm your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>v(!x),children:x?e.jsx(g,{className:"h-5 w-5 text-gray-400"}):e.jsx(N,{className:"h-5 w-5 text-gray-400"})})]}),r.confirmPassword&&e.jsxs("p",{className:"mt-1 text-sm text-red-500 flex items-center",children:[e.jsx(m,{className:"h-4 w-4 mr-1"}),r.confirmPassword]})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full bg-[#5e5ce6] hover:bg-[#4b48bf] text-white py-2 px-4 rounded-md transition-colors flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed",children:h?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"animate-spin mr-2 h-5 w-5"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:["Create Account",e.jsx(q,{className:"ml-2 h-5 w-5"})]})}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",e.jsx(b,{to:"/user-login",className:"text-[#5e5ce6] hover:underline",children:"Log in"})]})})]})]},"form")})})}export{J as default};
